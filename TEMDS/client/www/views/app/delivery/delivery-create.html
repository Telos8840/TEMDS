<ion-view class="feed-view delivery-create-view delivery-view" view-title="Create Delivery">
    <div class="header">
    </div>

    <ion-content ng-class="{'has-footer' : isValidDeliveryOrder()}" class="has-header">

        <!-- DELIVERY ADDRESS PICKER -->
        <div class="list card">
            <div class="item item-divider">Delivery Address</div>

            <label class="item item-input">
                <input type="text" placeholder="Recipient Name" name="oldPass" ng-model="delivery.recipient">
            </label>
            <div class="item item-select item-input" id="address">
                <select ng-options="address.name for address in addressbook" ng-model="delivery.deliveryAddress"></select>
            </div>
            <div class="item" id="address-body">
                <p>{{delivery.deliveryAddress.addr1}} {{delivery.deliveryAddress.addr2}}</p>
                <p>{{delivery.deliveryAddress.city}}, {{delivery.deliveryAddress.state}} {{delivery.deliveryAddress.zipcode}}</p>
            </div>
        </div>

        <!-- ORDER LIST -->
        <div class="list card">
            <div class="item item-divider"> Orders</div>

            <ion-list show-delete="showDelete" can-swipe="true" ng-hide="delivery.orders.length <= 0">
                <ion-item ng-repeat="order in delivery.orders" item="order" class="item-avatar item-remove-animate">
                    <img id="thumbnail" src="{{order.venue.thumbnail}}">
                    <h2>{{order.venue.name}}</h2>
                    <h3>{{order.items.length}} {{order.items.length>1?'items':'item'}}</h3>

                    <ion-option-button class="button-positive" ng-click="editOrder($index)">
                        Edit
                    </ion-option-button>
                    <ion-option-button class="button-assertive" ng-click="deleteOrder($index)">
                        Delete
                    </ion-option-button>
                    <!--ion-delete-button class="ion-minus-circled" ng-click="delivery.orders.splice($index, 1)">
                    </ion-delete-button-->
                </ion-item>
            </ion-list>

            <div class="item button button-full button-positive" id="addOrderBtn" ng-click="addOrder()">
                Add Order
            </div>
        </div>

    </ion-content>

    <div class="bar bar-footer bar-balanced botBtn" ng-click="confirmDelivery()" ng-show="isValidDeliveryOrder()">
        <div class="title">Confirm Delivery</div>
    </div>
</ion-view>